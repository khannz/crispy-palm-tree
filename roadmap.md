# NLB info

## Фичи

1.Балансировщик: детектирование настроенных сервисов.

+ Основываясь на keepalived файле получать данные о всех текущих сервисах.
+ Данные должены содержать достаточную информацию необходимую для модификации сервиса.

2.Балансировщик: модификация серверов обработки данных по запросу.

+ Возможность добавлять и удалять сервера обработки данных. Дополнительно: отказ при удалении всех (или последнего) серверов обработки. Удаление сервиса идёт через другой запрос.

3.Балансировщик: генерация команд настройки для серверов обработки.

4.Балансировщик: выдавать данные о загрузке.

+ Данные: CPU, сессии в секунду, нагрузка сети. (prometheus?)

5.Контроллер: разработать контроллер для балансировщиков с базовым функционалом.

+ Регистрировать и удалять балансировщики, вести их учёт (количество)
+ Принимать json по rest api (то же что и для балансировщика) и передавать его далее.

6.Контроллер: доработка контроллера балансировщиков (разбить на истории).

+ Мониторинг баланисировщиков (статус работы).
+ Получение информации о загрузке балансировщкиа загрузка(CPU+network(сессии в сек)).
+ Хранение информации о зонах безопасости, автоматизированный выбор/развертование балансировщика на их основе.

7.Балансировщик: реализация холодного старта.

+ При первом запуске: проверка пререквизитов необходимых для работы и регистрация в контроллере.

## Tаски

1.Удаление сервиса должно выполняться только на основании данных о сервисе, без указаний серверов обработки.

2.Расширить формат ответа на запрос. В ответе должны содержаться конкретные данные, а не ответы вида "ok"/"not ok".
